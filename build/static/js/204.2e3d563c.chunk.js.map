{"version":3,"file":"static/js/204.2e3d563c.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/keycloak-js/lib/keycloak.js"],"sourcesContent":["function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","/*\n * Copyright 2016 Red Hat, Inc. and/or its affiliates\n * and other contributors as indicated by the @author tags.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction Keycloak (config) {\n    if (!(this instanceof Keycloak)) {\n        throw new Error(\"The 'Keycloak' constructor must be invoked with 'new'.\")\n    }\n\n    if (typeof config !== 'string' && !isObject(config)) {\n        throw new Error(\"The 'Keycloak' constructor must be provided with a configuration object, or a URL to a JSON configuration file.\");\n    }\n\n    if (isObject(config)) {\n        const requiredProperties = 'oidcProvider' in config\n            ? ['clientId']\n            : ['url', 'realm', 'clientId'];\n\n        for (const property of requiredProperties) {\n            if (!config[property]) {\n                throw new Error(`The configuration object is missing the required '${property}' property.`);\n            }\n        }\n    }\n\n    var kc = this;\n    var adapter;\n    var refreshQueue = [];\n    var callbackStorage;\n\n    var loginIframe = {\n        enable: true,\n        callbackList: [],\n        interval: 5\n    };\n\n    kc.didInitialize = false;\n\n    var useNonce = true;\n    var logInfo = createLogger(console.info);\n    var logWarn = createLogger(console.warn);\n\n    if (!globalThis.isSecureContext) {\n        logWarn(\n            \"[KEYCLOAK] Keycloak JS must be used in a 'secure context' to function properly as it relies on browser APIs that are otherwise not available.\\n\" +\n            \"Continuing to run your application insecurely will lead to unexpected behavior and breakage.\\n\\n\" +\n            \"For more information see: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts\"\n        );\n    }\n\n    kc.init = function (initOptions = {}) {\n        if (kc.didInitialize) {\n            throw new Error(\"A 'Keycloak' instance can only be initialized once.\");\n        }\n\n        kc.didInitialize = true;\n\n        kc.authenticated = false;\n\n        callbackStorage = createCallbackStorage();\n        var adapters = ['default', 'cordova', 'cordova-native'];\n\n        if (adapters.indexOf(initOptions.adapter) > -1) {\n            adapter = loadAdapter(initOptions.adapter);\n        } else if (typeof initOptions.adapter === \"object\") {\n            adapter = initOptions.adapter;\n        } else {\n            if (window.Cordova || window.cordova) {\n                adapter = loadAdapter('cordova');\n            } else {\n                adapter = loadAdapter();\n            }\n        }\n\n        if (typeof initOptions.useNonce !== 'undefined') {\n            useNonce = initOptions.useNonce;\n        }\n\n        if (typeof initOptions.checkLoginIframe !== 'undefined') {\n            loginIframe.enable = initOptions.checkLoginIframe;\n        }\n\n        if (initOptions.checkLoginIframeInterval) {\n            loginIframe.interval = initOptions.checkLoginIframeInterval;\n        }\n\n        if (initOptions.onLoad === 'login-required') {\n            kc.loginRequired = true;\n        }\n\n        if (initOptions.responseMode) {\n            if (initOptions.responseMode === 'query' || initOptions.responseMode === 'fragment') {\n                kc.responseMode = initOptions.responseMode;\n            } else {\n                throw 'Invalid value for responseMode';\n            }\n        }\n\n        if (initOptions.flow) {\n            switch (initOptions.flow) {\n                case 'standard':\n                    kc.responseType = 'code';\n                    break;\n                case 'implicit':\n                    kc.responseType = 'id_token token';\n                    break;\n                case 'hybrid':\n                    kc.responseType = 'code id_token token';\n                    break;\n                default:\n                    throw 'Invalid value for flow';\n            }\n            kc.flow = initOptions.flow;\n        }\n\n        if (initOptions.timeSkew != null) {\n            kc.timeSkew = initOptions.timeSkew;\n        }\n\n        if(initOptions.redirectUri) {\n            kc.redirectUri = initOptions.redirectUri;\n        }\n\n        if (initOptions.silentCheckSsoRedirectUri) {\n            kc.silentCheckSsoRedirectUri = initOptions.silentCheckSsoRedirectUri;\n        }\n\n        if (typeof initOptions.silentCheckSsoFallback === 'boolean') {\n            kc.silentCheckSsoFallback = initOptions.silentCheckSsoFallback;\n        } else {\n            kc.silentCheckSsoFallback = true;\n        }\n\n        if (typeof initOptions.pkceMethod !== \"undefined\") {\n            if (initOptions.pkceMethod !== \"S256\" && initOptions.pkceMethod !== false) {\n                throw new TypeError(`Invalid value for pkceMethod', expected 'S256' or false but got ${initOptions.pkceMethod}.`);\n            }\n\n            kc.pkceMethod = initOptions.pkceMethod;\n        } else {\n            kc.pkceMethod = \"S256\";\n        }\n\n        if (typeof initOptions.enableLogging === 'boolean') {\n            kc.enableLogging = initOptions.enableLogging;\n        } else {\n            kc.enableLogging = false;\n        }\n\n        if (initOptions.logoutMethod === 'POST') {\n            kc.logoutMethod = 'POST';\n        } else {\n            kc.logoutMethod = 'GET';\n        }\n\n        if (typeof initOptions.scope === 'string') {\n            kc.scope = initOptions.scope;\n        }\n\n        if (typeof initOptions.acrValues === 'string') {\n            kc.acrValues = initOptions.acrValues;\n        }\n\n        if (typeof initOptions.messageReceiveTimeout === 'number' && initOptions.messageReceiveTimeout > 0) {\n            kc.messageReceiveTimeout = initOptions.messageReceiveTimeout;\n        } else {\n            kc.messageReceiveTimeout = 10000;\n        }\n\n        if (!kc.responseMode) {\n            kc.responseMode = 'fragment';\n        }\n        if (!kc.responseType) {\n            kc.responseType = 'code';\n            kc.flow = 'standard';\n        }\n\n        var promise = createPromise();\n\n        var initPromise = createPromise();\n        initPromise.promise.then(function() {\n            kc.onReady && kc.onReady(kc.authenticated);\n            promise.setSuccess(kc.authenticated);\n        }).catch(function(error) {\n            promise.setError(error);\n        });\n\n        var configPromise = loadConfig();\n\n        function onLoad() {\n            var doLogin = function(prompt) {\n                if (!prompt) {\n                    options.prompt = 'none';\n                }\n\n                if (initOptions.locale) {\n                    options.locale = initOptions.locale;\n                }\n                kc.login(options).then(function () {\n                    initPromise.setSuccess();\n                }).catch(function (error) {\n                    initPromise.setError(error);\n                });\n            }\n\n            var checkSsoSilently = async function() {\n                var ifrm = document.createElement(\"iframe\");\n                var src = await kc.createLoginUrl({prompt: 'none', redirectUri: kc.silentCheckSsoRedirectUri});\n                ifrm.setAttribute(\"src\", src);\n                ifrm.setAttribute(\"sandbox\", \"allow-storage-access-by-user-activation allow-scripts allow-same-origin\");\n                ifrm.setAttribute(\"title\", \"keycloak-silent-check-sso\");\n                ifrm.style.display = \"none\";\n                document.body.appendChild(ifrm);\n\n                var messageCallback = function(event) {\n                    if (event.origin !== window.location.origin || ifrm.contentWindow !== event.source) {\n                        return;\n                    }\n\n                    var oauth = parseCallback(event.data);\n                    processCallback(oauth, initPromise);\n\n                    document.body.removeChild(ifrm);\n                    window.removeEventListener(\"message\", messageCallback);\n                };\n\n                window.addEventListener(\"message\", messageCallback);\n            };\n\n            var options = {};\n            switch (initOptions.onLoad) {\n                case 'check-sso':\n                    if (loginIframe.enable) {\n                        setupCheckLoginIframe().then(function() {\n                            checkLoginIframe().then(function (unchanged) {\n                                if (!unchanged) {\n                                    kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                                } else {\n                                    initPromise.setSuccess();\n                                }\n                            }).catch(function (error) {\n                                initPromise.setError(error);\n                            });\n                        });\n                    } else {\n                        kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                    }\n                    break;\n                case 'login-required':\n                    doLogin(true);\n                    break;\n                default:\n                    throw 'Invalid value for onLoad';\n            }\n        }\n\n        function processInit() {\n            var callback = parseCallback(window.location.href);\n\n            if (callback) {\n                window.history.replaceState(window.history.state, null, callback.newUrl);\n            }\n\n            if (callback && callback.valid) {\n                return setupCheckLoginIframe().then(function() {\n                    processCallback(callback, initPromise);\n                }).catch(function (error) {\n                    initPromise.setError(error);\n                });\n            }\n\n            if (initOptions.token && initOptions.refreshToken) {\n                setToken(initOptions.token, initOptions.refreshToken, initOptions.idToken);\n\n                if (loginIframe.enable) {\n                    setupCheckLoginIframe().then(function() {\n                        checkLoginIframe().then(function (unchanged) {\n                            if (unchanged) {\n                                kc.onAuthSuccess && kc.onAuthSuccess();\n                                initPromise.setSuccess();\n                                scheduleCheckIframe();\n                            } else {\n                                initPromise.setSuccess();\n                            }\n                        }).catch(function (error) {\n                            initPromise.setError(error);\n                        });\n                    });\n                } else {\n                    kc.updateToken(-1).then(function() {\n                        kc.onAuthSuccess && kc.onAuthSuccess();\n                        initPromise.setSuccess();\n                    }).catch(function(error) {\n                        kc.onAuthError && kc.onAuthError();\n                        if (initOptions.onLoad) {\n                            onLoad();\n                        } else {\n                            initPromise.setError(error);\n                        }\n                    });\n                }\n            } else if (initOptions.onLoad) {\n                onLoad();\n            } else {\n                initPromise.setSuccess();\n            }\n        }\n\n        configPromise.then(function () {\n            check3pCookiesSupported()\n                .then(processInit)\n                .catch(function (error) {\n                    promise.setError(error);\n                });\n        });\n        configPromise.catch(function (error) {\n            promise.setError(error);\n        });\n\n        return promise.promise;\n    }\n\n    kc.login = function (options) {\n        return adapter.login(options);\n    }\n\n    function generateRandomData(len) {\n        if (typeof crypto === \"undefined\" || typeof crypto.getRandomValues === \"undefined\") {\n            throw new Error(\"Web Crypto API is not available.\");\n        }\n\n        return crypto.getRandomValues(new Uint8Array(len));\n    }\n\n    function generateCodeVerifier(len) {\n        return generateRandomString(len, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789');\n    }\n\n    function generateRandomString(len, alphabet){\n        var randomData = generateRandomData(len);\n        var chars = new Array(len);\n        for (var i = 0; i < len; i++) {\n            chars[i] = alphabet.charCodeAt(randomData[i] % alphabet.length);\n        }\n        return String.fromCharCode.apply(null, chars);\n    }\n\n    async function generatePkceChallenge(pkceMethod, codeVerifier) {\n        if (pkceMethod !== \"S256\") {\n            throw new TypeError(`Invalid value for 'pkceMethod', expected 'S256' but got '${pkceMethod}'.`);\n        }\n\n        // hash codeVerifier, then encode as url-safe base64 without padding\n        const hashBytes = new Uint8Array(await sha256Digest(codeVerifier));\n        const encodedHash = bytesToBase64(hashBytes)\n            .replace(/\\+/g, '-')\n            .replace(/\\//g, '_')\n            .replace(/\\=/g, '');\n\n        return encodedHash;\n    }\n\n    function buildClaimsParameter(requestedAcr){\n        var claims = {\n            id_token: {\n                acr: requestedAcr\n            }\n        }\n        return JSON.stringify(claims);\n    }\n\n    kc.createLoginUrl = async function(options) {\n        var state = createUUID();\n        var nonce = createUUID();\n\n        var redirectUri = adapter.redirectUri(options);\n\n        var callbackState = {\n            state: state,\n            nonce: nonce,\n            redirectUri: encodeURIComponent(redirectUri),\n            loginOptions: options\n        };\n\n        if (options && options.prompt) {\n            callbackState.prompt = options.prompt;\n        }\n\n        var baseUrl;\n        if (options && options.action == 'register') {\n            baseUrl = kc.endpoints.register();\n        } else {\n            baseUrl = kc.endpoints.authorize();\n        }\n\n        var scope = options && options.scope || kc.scope;\n        if (!scope) {\n            // if scope is not set, default to \"openid\"\n            scope = \"openid\";\n        } else if (scope.indexOf(\"openid\") === -1) {\n            // if openid scope is missing, prefix the given scopes with it\n            scope = \"openid \" + scope;\n        }\n\n        var url = baseUrl\n            + '?client_id=' + encodeURIComponent(kc.clientId)\n            + '&redirect_uri=' + encodeURIComponent(redirectUri)\n            + '&state=' + encodeURIComponent(state)\n            + '&response_mode=' + encodeURIComponent(kc.responseMode)\n            + '&response_type=' + encodeURIComponent(kc.responseType)\n            + '&scope=' + encodeURIComponent(scope);\n        if (useNonce) {\n            url = url + '&nonce=' + encodeURIComponent(nonce);\n        }\n\n        if (options && options.prompt) {\n            url += '&prompt=' + encodeURIComponent(options.prompt);\n        }\n\n        if (options && typeof options.maxAge === 'number') {\n            url += '&max_age=' + encodeURIComponent(options.maxAge);\n        }\n\n        if (options && options.loginHint) {\n            url += '&login_hint=' + encodeURIComponent(options.loginHint);\n        }\n\n        if (options && options.idpHint) {\n            url += '&kc_idp_hint=' + encodeURIComponent(options.idpHint);\n        }\n\n        if (options && options.action && options.action != 'register') {\n            url += '&kc_action=' + encodeURIComponent(options.action);\n        }\n\n        if (options && options.locale) {\n            url += '&ui_locales=' + encodeURIComponent(options.locale);\n        }\n\n        if (options && options.acr) {\n            var claimsParameter = buildClaimsParameter(options.acr);\n            url += '&claims=' + encodeURIComponent(claimsParameter);\n        }\n\n        if ((options && options.acrValues) || kc.acrValues) {\n            url += '&acr_values=' + encodeURIComponent(options.acrValues || kc.acrValues);\n        }\n\n        if (kc.pkceMethod) {\n            try {\n                const codeVerifier = generateCodeVerifier(96);\n                const pkceChallenge = await generatePkceChallenge(kc.pkceMethod, codeVerifier);\n\n                callbackState.pkceCodeVerifier = codeVerifier;\n\n                url += '&code_challenge=' + pkceChallenge;\n                url += '&code_challenge_method=' + kc.pkceMethod;\n            } catch (error) {\n                throw new Error(\"Failed to generate PKCE challenge.\", { cause: error });\n            }\n        }\n\n        callbackStorage.add(callbackState);\n\n        return url;\n    }\n\n    kc.logout = function(options) {\n        return adapter.logout(options);\n    }\n\n    kc.createLogoutUrl = function(options) {\n\n        const logoutMethod = options?.logoutMethod ?? kc.logoutMethod;\n        if (logoutMethod === 'POST') {\n            return kc.endpoints.logout();\n        }\n\n        var url = kc.endpoints.logout()\n            + '?client_id=' + encodeURIComponent(kc.clientId)\n            + '&post_logout_redirect_uri=' + encodeURIComponent(adapter.redirectUri(options, false));\n\n        if (kc.idToken) {\n            url += '&id_token_hint=' + encodeURIComponent(kc.idToken);\n        }\n\n        return url;\n    }\n\n    kc.register = function (options) {\n        return adapter.register(options);\n    }\n\n    kc.createRegisterUrl = async function(options) {\n        if (!options) {\n            options = {};\n        }\n        options.action = 'register';\n        return await kc.createLoginUrl(options);\n    }\n\n    kc.createAccountUrl = function(options) {\n        var realm = getRealmUrl();\n        var url = undefined;\n        if (typeof realm !== 'undefined') {\n            url = realm\n            + '/account'\n            + '?referrer=' + encodeURIComponent(kc.clientId)\n            + '&referrer_uri=' + encodeURIComponent(adapter.redirectUri(options));\n        }\n        return url;\n    }\n\n    kc.accountManagement = function() {\n        return adapter.accountManagement();\n    }\n\n    kc.hasRealmRole = function (role) {\n        var access = kc.realmAccess;\n        return !!access && access.roles.indexOf(role) >= 0;\n    }\n\n    kc.hasResourceRole = function(role, resource) {\n        if (!kc.resourceAccess) {\n            return false;\n        }\n\n        var access = kc.resourceAccess[resource || kc.clientId];\n        return !!access && access.roles.indexOf(role) >= 0;\n    }\n\n    kc.loadUserProfile = function() {\n        var url = getRealmUrl() + '/account';\n        var req = new XMLHttpRequest();\n        req.open('GET', url, true);\n        req.setRequestHeader('Accept', 'application/json');\n        req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n\n        var promise = createPromise();\n\n        req.onreadystatechange = function () {\n            if (req.readyState == 4) {\n                if (req.status == 200) {\n                    kc.profile = JSON.parse(req.responseText);\n                    promise.setSuccess(kc.profile);\n                } else {\n                    promise.setError();\n                }\n            }\n        }\n\n        req.send();\n\n        return promise.promise;\n    }\n\n    kc.loadUserInfo = function() {\n        var url = kc.endpoints.userinfo();\n        var req = new XMLHttpRequest();\n        req.open('GET', url, true);\n        req.setRequestHeader('Accept', 'application/json');\n        req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n\n        var promise = createPromise();\n\n        req.onreadystatechange = function () {\n            if (req.readyState == 4) {\n                if (req.status == 200) {\n                    kc.userInfo = JSON.parse(req.responseText);\n                    promise.setSuccess(kc.userInfo);\n                } else {\n                    promise.setError();\n                }\n            }\n        }\n\n        req.send();\n\n        return promise.promise;\n    }\n\n    kc.isTokenExpired = function(minValidity) {\n        if (!kc.tokenParsed || (!kc.refreshToken && kc.flow != 'implicit' )) {\n            throw 'Not authenticated';\n        }\n\n        if (kc.timeSkew == null) {\n            logInfo('[KEYCLOAK] Unable to determine if token is expired as timeskew is not set');\n            return true;\n        }\n\n        var expiresIn = kc.tokenParsed['exp'] - Math.ceil(new Date().getTime() / 1000) + kc.timeSkew;\n        if (minValidity) {\n            if (isNaN(minValidity)) {\n                throw 'Invalid minValidity';\n            }\n            expiresIn -= minValidity;\n        }\n        return expiresIn < 0;\n    }\n\n    kc.updateToken = function(minValidity) {\n        var promise = createPromise();\n\n        if (!kc.refreshToken) {\n            promise.setError();\n            return promise.promise;\n        }\n\n        minValidity = minValidity || 5;\n\n        var exec = function() {\n            var refreshToken = false;\n            if (minValidity == -1) {\n                refreshToken = true;\n                logInfo('[KEYCLOAK] Refreshing token: forced refresh');\n            } else if (!kc.tokenParsed || kc.isTokenExpired(minValidity)) {\n                refreshToken = true;\n                logInfo('[KEYCLOAK] Refreshing token: token expired');\n            }\n\n            if (!refreshToken) {\n                promise.setSuccess(false);\n            } else {\n                var params = 'grant_type=refresh_token&' + 'refresh_token=' + kc.refreshToken;\n                var url = kc.endpoints.token();\n\n                refreshQueue.push(promise);\n\n                if (refreshQueue.length == 1) {\n                    var req = new XMLHttpRequest();\n                    req.open('POST', url, true);\n                    req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n                    req.withCredentials = true;\n\n                    params += '&client_id=' + encodeURIComponent(kc.clientId);\n\n                    var timeLocal = new Date().getTime();\n\n                    req.onreadystatechange = function () {\n                        if (req.readyState == 4) {\n                            if (req.status == 200) {\n                                logInfo('[KEYCLOAK] Token refreshed');\n\n                                timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n                                var tokenResponse = JSON.parse(req.responseText);\n\n                                setToken(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], timeLocal);\n\n                                kc.onAuthRefreshSuccess && kc.onAuthRefreshSuccess();\n                                for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                                    p.setSuccess(true);\n                                }\n                            } else {\n                                logWarn('[KEYCLOAK] Failed to refresh token');\n\n                                if (req.status == 400) {\n                                    kc.clearToken();\n                                }\n\n                                kc.onAuthRefreshError && kc.onAuthRefreshError();\n                                for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                                    p.setError(\"Failed to refresh token: An unexpected HTTP error occurred while attempting to refresh the token.\");\n                                }\n                            }\n                        }\n                    };\n\n                    req.send(params);\n                }\n            }\n        }\n\n        if (loginIframe.enable) {\n            var iframePromise = checkLoginIframe();\n            iframePromise.then(function() {\n                exec();\n            }).catch(function(error) {\n                promise.setError(error);\n            });\n        } else {\n            exec();\n        }\n\n        return promise.promise;\n    }\n\n    kc.clearToken = function() {\n        if (kc.token) {\n            setToken(null, null, null);\n            kc.onAuthLogout && kc.onAuthLogout();\n            if (kc.loginRequired) {\n                kc.login();\n            }\n        }\n    }\n\n    function getRealmUrl() {\n        if (typeof kc.authServerUrl !== 'undefined') {\n            if (kc.authServerUrl.charAt(kc.authServerUrl.length - 1) == '/') {\n                return kc.authServerUrl + 'realms/' + encodeURIComponent(kc.realm);\n            } else {\n                return kc.authServerUrl + '/realms/' + encodeURIComponent(kc.realm);\n            }\n        } else {\n            return undefined;\n        }\n    }\n\n    function getOrigin() {\n        if (!window.location.origin) {\n            return window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');\n        } else {\n            return window.location.origin;\n        }\n    }\n\n    function processCallback(oauth, promise) {\n        var code = oauth.code;\n        var error = oauth.error;\n        var prompt = oauth.prompt;\n\n        var timeLocal = new Date().getTime();\n\n        if (oauth['kc_action_status']) {\n            kc.onActionUpdate && kc.onActionUpdate(oauth['kc_action_status'], oauth['kc_action']);\n        }\n\n        if (error) {\n            if (prompt != 'none') {\n                if (oauth.error_description && oauth.error_description === \"authentication_expired\") {\n                    kc.login(oauth.loginOptions);\n                } else {\n                    var errorData = { error: error, error_description: oauth.error_description };\n                    kc.onAuthError && kc.onAuthError(errorData);\n                    promise && promise.setError(errorData);\n                }\n            } else {\n                promise && promise.setSuccess();\n            }\n            return;\n        } else if ((kc.flow != 'standard') && (oauth.access_token || oauth.id_token)) {\n            authSuccess(oauth.access_token, null, oauth.id_token, true);\n        }\n\n        if ((kc.flow != 'implicit') && code) {\n            var params = 'code=' + code + '&grant_type=authorization_code';\n            var url = kc.endpoints.token();\n\n            var req = new XMLHttpRequest();\n            req.open('POST', url, true);\n            req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n\n            params += '&client_id=' + encodeURIComponent(kc.clientId);\n            params += '&redirect_uri=' + oauth.redirectUri;\n\n            if (oauth.pkceCodeVerifier) {\n                params += '&code_verifier=' + oauth.pkceCodeVerifier;\n            }\n\n            req.withCredentials = true;\n\n            req.onreadystatechange = function() {\n                if (req.readyState == 4) {\n                    if (req.status == 200) {\n\n                        var tokenResponse = JSON.parse(req.responseText);\n                        authSuccess(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], kc.flow === 'standard');\n                        scheduleCheckIframe();\n                    } else {\n                        kc.onAuthError && kc.onAuthError();\n                        promise && promise.setError();\n                    }\n                }\n            };\n\n            req.send(params);\n        }\n\n        function authSuccess(accessToken, refreshToken, idToken, fulfillPromise) {\n            timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n            setToken(accessToken, refreshToken, idToken, timeLocal);\n\n            if (useNonce && (kc.idTokenParsed && kc.idTokenParsed.nonce != oauth.storedNonce)) {\n                logInfo('[KEYCLOAK] Invalid nonce, clearing token');\n                kc.clearToken();\n                promise && promise.setError();\n            } else {\n                if (fulfillPromise) {\n                    kc.onAuthSuccess && kc.onAuthSuccess();\n                    promise && promise.setSuccess();\n                }\n            }\n        }\n\n    }\n\n    function loadConfig() {\n        var promise = createPromise();\n        var configUrl;\n\n        if (typeof config === 'string') {\n            configUrl = config;\n        }\n\n        function setupOidcEndoints(oidcConfiguration) {\n            if (! oidcConfiguration) {\n                kc.endpoints = {\n                    authorize: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/auth';\n                    },\n                    token: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/token';\n                    },\n                    logout: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/logout';\n                    },\n                    checkSessionIframe: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/login-status-iframe.html';\n                    },\n                    thirdPartyCookiesIframe: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/3p-cookies/step1.html';\n                    },\n                    register: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/registrations';\n                    },\n                    userinfo: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/userinfo';\n                    }\n                };\n            } else {\n                kc.endpoints = {\n                    authorize: function() {\n                        return oidcConfiguration.authorization_endpoint;\n                    },\n                    token: function() {\n                        return oidcConfiguration.token_endpoint;\n                    },\n                    logout: function() {\n                        if (!oidcConfiguration.end_session_endpoint) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.end_session_endpoint;\n                    },\n                    checkSessionIframe: function() {\n                        if (!oidcConfiguration.check_session_iframe) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.check_session_iframe;\n                    },\n                    register: function() {\n                        throw 'Redirection to \"Register user\" page not supported in standard OIDC mode';\n                    },\n                    userinfo: function() {\n                        if (!oidcConfiguration.userinfo_endpoint) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.userinfo_endpoint;\n                    }\n                }\n            }\n        }\n\n        if (configUrl) {\n            var req = new XMLHttpRequest();\n            req.open('GET', configUrl, true);\n            req.setRequestHeader('Accept', 'application/json');\n\n            req.onreadystatechange = function () {\n                if (req.readyState == 4) {\n                    if (req.status == 200 || fileLoaded(req)) {\n                        var config = JSON.parse(req.responseText);\n\n                        kc.authServerUrl = config['auth-server-url'];\n                        kc.realm = config['realm'];\n                        kc.clientId = config['resource'];\n                        setupOidcEndoints(null);\n                        promise.setSuccess();\n                    } else {\n                        promise.setError();\n                    }\n                }\n            };\n\n            req.send();\n        } else {\n            kc.clientId = config.clientId;\n\n            var oidcProvider = config['oidcProvider'];\n            if (!oidcProvider) {\n                kc.authServerUrl = config.url;\n                kc.realm = config.realm;\n                setupOidcEndoints(null);\n                promise.setSuccess();\n            } else {\n                if (typeof oidcProvider === 'string') {\n                    var oidcProviderConfigUrl;\n                    if (oidcProvider.charAt(oidcProvider.length - 1) == '/') {\n                        oidcProviderConfigUrl = oidcProvider + '.well-known/openid-configuration';\n                    } else {\n                        oidcProviderConfigUrl = oidcProvider + '/.well-known/openid-configuration';\n                    }\n                    var req = new XMLHttpRequest();\n                    req.open('GET', oidcProviderConfigUrl, true);\n                    req.setRequestHeader('Accept', 'application/json');\n\n                    req.onreadystatechange = function () {\n                        if (req.readyState == 4) {\n                            if (req.status == 200 || fileLoaded(req)) {\n                                var oidcProviderConfig = JSON.parse(req.responseText);\n                                setupOidcEndoints(oidcProviderConfig);\n                                promise.setSuccess();\n                            } else {\n                                promise.setError();\n                            }\n                        }\n                    };\n\n                    req.send();\n                } else {\n                    setupOidcEndoints(oidcProvider);\n                    promise.setSuccess();\n                }\n            }\n        }\n\n        return promise.promise;\n    }\n\n    function fileLoaded(xhr) {\n        return xhr.status == 0 && xhr.responseText && xhr.responseURL.startsWith('file:');\n    }\n\n    function setToken(token, refreshToken, idToken, timeLocal) {\n        if (kc.tokenTimeoutHandle) {\n            clearTimeout(kc.tokenTimeoutHandle);\n            kc.tokenTimeoutHandle = null;\n        }\n\n        if (refreshToken) {\n            kc.refreshToken = refreshToken;\n            kc.refreshTokenParsed = decodeToken(refreshToken);\n        } else {\n            delete kc.refreshToken;\n            delete kc.refreshTokenParsed;\n        }\n\n        if (idToken) {\n            kc.idToken = idToken;\n            kc.idTokenParsed = decodeToken(idToken);\n        } else {\n            delete kc.idToken;\n            delete kc.idTokenParsed;\n        }\n\n        if (token) {\n            kc.token = token;\n            kc.tokenParsed = decodeToken(token);\n            kc.sessionId = kc.tokenParsed.sid;\n            kc.authenticated = true;\n            kc.subject = kc.tokenParsed.sub;\n            kc.realmAccess = kc.tokenParsed.realm_access;\n            kc.resourceAccess = kc.tokenParsed.resource_access;\n\n            if (timeLocal) {\n                kc.timeSkew = Math.floor(timeLocal / 1000) - kc.tokenParsed.iat;\n            }\n\n            if (kc.timeSkew != null) {\n                logInfo('[KEYCLOAK] Estimated time difference between browser and server is ' + kc.timeSkew + ' seconds');\n\n                if (kc.onTokenExpired) {\n                    var expiresIn = (kc.tokenParsed['exp'] - (new Date().getTime() / 1000) + kc.timeSkew) * 1000;\n                    logInfo('[KEYCLOAK] Token expires in ' + Math.round(expiresIn / 1000) + ' s');\n                    if (expiresIn <= 0) {\n                        kc.onTokenExpired();\n                    } else {\n                        kc.tokenTimeoutHandle = setTimeout(kc.onTokenExpired, expiresIn);\n                    }\n                }\n            }\n        } else {\n            delete kc.token;\n            delete kc.tokenParsed;\n            delete kc.subject;\n            delete kc.realmAccess;\n            delete kc.resourceAccess;\n\n            kc.authenticated = false;\n        }\n    }\n\n    function createUUID() {\n        if (typeof crypto === \"undefined\" || typeof crypto.randomUUID === \"undefined\") {\n            throw new Error(\"Web Crypto API is not available.\");\n        }\n\n        return crypto.randomUUID();\n    }\n\n    function parseCallback(url) {\n        var oauth = parseCallbackUrl(url);\n        if (!oauth) {\n            return;\n        }\n\n        var oauthState = callbackStorage.get(oauth.state);\n\n        if (oauthState) {\n            oauth.valid = true;\n            oauth.redirectUri = oauthState.redirectUri;\n            oauth.storedNonce = oauthState.nonce;\n            oauth.prompt = oauthState.prompt;\n            oauth.pkceCodeVerifier = oauthState.pkceCodeVerifier;\n            oauth.loginOptions = oauthState.loginOptions;\n        }\n\n        return oauth;\n    }\n\n    function parseCallbackUrl(url) {\n        var supportedParams;\n        switch (kc.flow) {\n            case 'standard':\n                supportedParams = ['code', 'state', 'session_state', 'kc_action_status', 'kc_action', 'iss'];\n                break;\n            case 'implicit':\n                supportedParams = ['access_token', 'token_type', 'id_token', 'state', 'session_state', 'expires_in', 'kc_action_status', 'kc_action', 'iss'];\n                break;\n            case 'hybrid':\n                supportedParams = ['access_token', 'token_type', 'id_token', 'code', 'state', 'session_state', 'expires_in', 'kc_action_status', 'kc_action', 'iss'];\n                break;\n        }\n\n        supportedParams.push('error');\n        supportedParams.push('error_description');\n        supportedParams.push('error_uri');\n\n        var queryIndex = url.indexOf('?');\n        var fragmentIndex = url.indexOf('#');\n\n        var newUrl;\n        var parsed;\n\n        if (kc.responseMode === 'query' && queryIndex !== -1) {\n            newUrl = url.substring(0, queryIndex);\n            parsed = parseCallbackParams(url.substring(queryIndex + 1, fragmentIndex !== -1 ? fragmentIndex : url.length), supportedParams);\n            if (parsed.paramsString !== '') {\n                newUrl += '?' + parsed.paramsString;\n            }\n            if (fragmentIndex !== -1) {\n                newUrl += url.substring(fragmentIndex);\n            }\n        } else if (kc.responseMode === 'fragment' && fragmentIndex !== -1) {\n            newUrl = url.substring(0, fragmentIndex);\n            parsed = parseCallbackParams(url.substring(fragmentIndex + 1), supportedParams);\n            if (parsed.paramsString !== '') {\n                newUrl += '#' + parsed.paramsString;\n            }\n        }\n\n        if (parsed && parsed.oauthParams) {\n            if (kc.flow === 'standard' || kc.flow === 'hybrid') {\n                if ((parsed.oauthParams.code || parsed.oauthParams.error) && parsed.oauthParams.state) {\n                    parsed.oauthParams.newUrl = newUrl;\n                    return parsed.oauthParams;\n                }\n            } else if (kc.flow === 'implicit') {\n                if ((parsed.oauthParams.access_token || parsed.oauthParams.error) && parsed.oauthParams.state) {\n                    parsed.oauthParams.newUrl = newUrl;\n                    return parsed.oauthParams;\n                }\n            }\n        }\n    }\n\n    function parseCallbackParams(paramsString, supportedParams) {\n        var p = paramsString.split('&');\n        var result = {\n            paramsString: '',\n            oauthParams: {}\n        }\n        for (var i = 0; i < p.length; i++) {\n            var split = p[i].indexOf(\"=\");\n            var key = p[i].slice(0, split);\n            if (supportedParams.indexOf(key) !== -1) {\n                result.oauthParams[key] = p[i].slice(split + 1);\n            } else {\n                if (result.paramsString !== '') {\n                    result.paramsString += '&';\n                }\n                result.paramsString += p[i];\n            }\n        }\n        return result;\n    }\n\n    function createPromise() {\n        // Need to create a native Promise which also preserves the\n        // interface of the custom promise type previously used by the API\n        var p = {\n            setSuccess: function(result) {\n                p.resolve(result);\n            },\n\n            setError: function(result) {\n                p.reject(result);\n            }\n        };\n        p.promise = new Promise(function(resolve, reject) {\n            p.resolve = resolve;\n            p.reject = reject;\n        });\n\n        return p;\n    }\n\n    // Function to extend existing native Promise with timeout\n    function applyTimeoutToPromise(promise, timeout, errorMessage) {\n        var timeoutHandle = null;\n        var timeoutPromise = new Promise(function (resolve, reject) {\n            timeoutHandle = setTimeout(function () {\n                reject({ \"error\": errorMessage || \"Promise is not settled within timeout of \" + timeout + \"ms\" });\n            }, timeout);\n        });\n\n        return Promise.race([promise, timeoutPromise]).finally(function () {\n            clearTimeout(timeoutHandle);\n        });\n    }\n\n    function setupCheckLoginIframe() {\n        var promise = createPromise();\n\n        if (!loginIframe.enable) {\n            promise.setSuccess();\n            return promise.promise;\n        }\n\n        if (loginIframe.iframe) {\n            promise.setSuccess();\n            return promise.promise;\n        }\n\n        var iframe = document.createElement('iframe');\n        loginIframe.iframe = iframe;\n\n        iframe.onload = function() {\n            var authUrl = kc.endpoints.authorize();\n            if (authUrl.charAt(0) === '/') {\n                loginIframe.iframeOrigin = getOrigin();\n            } else {\n                loginIframe.iframeOrigin = authUrl.substring(0, authUrl.indexOf('/', 8));\n            }\n            promise.setSuccess();\n        }\n\n        var src = kc.endpoints.checkSessionIframe();\n        iframe.setAttribute('src', src );\n        iframe.setAttribute('sandbox', 'allow-storage-access-by-user-activation allow-scripts allow-same-origin');\n        iframe.setAttribute('title', 'keycloak-session-iframe' );\n        iframe.style.display = 'none';\n        document.body.appendChild(iframe);\n\n        var messageCallback = function(event) {\n            if ((event.origin !== loginIframe.iframeOrigin) || (loginIframe.iframe.contentWindow !== event.source)) {\n                return;\n            }\n\n            if (!(event.data == 'unchanged' || event.data == 'changed' || event.data == 'error')) {\n                return;\n            }\n\n\n            if (event.data != 'unchanged') {\n                kc.clearToken();\n            }\n\n            var callbacks = loginIframe.callbackList.splice(0, loginIframe.callbackList.length);\n\n            for (var i = callbacks.length - 1; i >= 0; --i) {\n                var promise = callbacks[i];\n                if (event.data == 'error') {\n                    promise.setError();\n                } else {\n                    promise.setSuccess(event.data == 'unchanged');\n                }\n            }\n        };\n\n        window.addEventListener('message', messageCallback, false);\n\n        return promise.promise;\n    }\n\n    function scheduleCheckIframe() {\n        if (loginIframe.enable) {\n            if (kc.token) {\n                setTimeout(function() {\n                    checkLoginIframe().then(function(unchanged) {\n                        if (unchanged) {\n                            scheduleCheckIframe();\n                        }\n                    });\n                }, loginIframe.interval * 1000);\n            }\n        }\n    }\n\n    function checkLoginIframe() {\n        var promise = createPromise();\n\n        if (loginIframe.iframe && loginIframe.iframeOrigin ) {\n            var msg = kc.clientId + ' ' + (kc.sessionId ? kc.sessionId : '');\n            loginIframe.callbackList.push(promise);\n            var origin = loginIframe.iframeOrigin;\n            if (loginIframe.callbackList.length == 1) {\n                loginIframe.iframe.contentWindow.postMessage(msg, origin);\n            }\n        } else {\n            promise.setSuccess();\n        }\n\n        return promise.promise;\n    }\n\n    function check3pCookiesSupported() {\n        var promise = createPromise();\n\n        if ((loginIframe.enable || kc.silentCheckSsoRedirectUri) && typeof kc.endpoints.thirdPartyCookiesIframe === 'function') {\n            var iframe = document.createElement('iframe');\n            iframe.setAttribute('src', kc.endpoints.thirdPartyCookiesIframe());\n            iframe.setAttribute('sandbox', 'allow-storage-access-by-user-activation allow-scripts allow-same-origin');\n            iframe.setAttribute('title', 'keycloak-3p-check-iframe' );\n            iframe.style.display = 'none';\n            document.body.appendChild(iframe);\n\n            var messageCallback = function(event) {\n                if (iframe.contentWindow !== event.source) {\n                    return;\n                }\n\n                if (event.data !== \"supported\" && event.data !== \"unsupported\") {\n                    return;\n                } else if (event.data === \"unsupported\") {\n                    logWarn(\n                        \"[KEYCLOAK] Your browser is blocking access to 3rd-party cookies, this means:\\n\\n\" +\n                        \" - It is not possible to retrieve tokens without redirecting to the Keycloak server (a.k.a. no support for silent authentication).\\n\" +\n                        \" - It is not possible to automatically detect changes to the session status (such as the user logging out in another tab).\\n\\n\" +\n                        \"For more information see: https://www.keycloak.org/securing-apps/javascript-adapter#_modern_browsers\"\n                    );\n\n                    loginIframe.enable = false;\n                    if (kc.silentCheckSsoFallback) {\n                        kc.silentCheckSsoRedirectUri = false;\n                    }\n                }\n\n                document.body.removeChild(iframe);\n                window.removeEventListener(\"message\", messageCallback);\n                promise.setSuccess();\n            };\n\n            window.addEventListener('message', messageCallback, false);\n        } else {\n            promise.setSuccess();\n        }\n\n        return applyTimeoutToPromise(promise.promise, kc.messageReceiveTimeout, \"Timeout when waiting for 3rd party check iframe message.\");\n    }\n\n    function loadAdapter(type) {\n        if (!type || type == 'default') {\n            return {\n                login: async function(options) {\n                    window.location.assign(await kc.createLoginUrl(options));\n                    return createPromise().promise;\n                },\n\n                logout: async function(options) {\n\n                    const logoutMethod = options?.logoutMethod ?? kc.logoutMethod;\n                    if (logoutMethod === \"GET\") {\n                        window.location.replace(kc.createLogoutUrl(options));\n                        return;\n                    }\n\n                    // Create form to send POST request.\n                    const form = document.createElement(\"form\");\n\n                    form.setAttribute(\"method\", \"POST\");\n                    form.setAttribute(\"action\", kc.createLogoutUrl(options));\n                    form.style.display = \"none\";\n\n                    // Add data to form as hidden input fields.\n                    const data = {\n                        id_token_hint: kc.idToken,\n                        client_id: kc.clientId,\n                        post_logout_redirect_uri: adapter.redirectUri(options, false)\n                    };\n\n                    for (const [name, value] of Object.entries(data)) {\n                        const input = document.createElement(\"input\");\n\n                        input.setAttribute(\"type\", \"hidden\");\n                        input.setAttribute(\"name\", name);\n                        input.setAttribute(\"value\", value);\n\n                        form.appendChild(input);\n                    }\n\n                    // Append form to page and submit it to perform logout and redirect.\n                    document.body.appendChild(form);\n                    form.submit();\n                },\n\n                register: async function(options) {\n                    window.location.assign(await kc.createRegisterUrl(options));\n                    return createPromise().promise;\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        window.location.href = accountUrl;\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                    return createPromise().promise;\n                },\n\n                redirectUri: function(options, encodeHash) {\n                    if (arguments.length == 1) {\n                        encodeHash = true;\n                    }\n\n                    if (options && options.redirectUri) {\n                        return options.redirectUri;\n                    } else if (kc.redirectUri) {\n                        return kc.redirectUri;\n                    } else {\n                        return location.href;\n                    }\n                }\n            };\n        }\n\n        if (type == 'cordova') {\n            loginIframe.enable = false;\n            var cordovaOpenWindowWrapper = function(loginUrl, target, options) {\n                if (window.cordova && window.cordova.InAppBrowser) {\n                    // Use inappbrowser for IOS and Android if available\n                    return window.cordova.InAppBrowser.open(loginUrl, target, options);\n                } else {\n                    return window.open(loginUrl, target, options);\n                }\n            };\n\n            var shallowCloneCordovaOptions = function (userOptions) {\n                if (userOptions && userOptions.cordovaOptions) {\n                    return Object.keys(userOptions.cordovaOptions).reduce(function (options, optionName) {\n                        options[optionName] = userOptions.cordovaOptions[optionName];\n                        return options;\n                    }, {});\n                } else {\n                    return {};\n                }\n            };\n\n            var formatCordovaOptions = function (cordovaOptions) {\n                return Object.keys(cordovaOptions).reduce(function (options, optionName) {\n                    options.push(optionName+\"=\"+cordovaOptions[optionName]);\n                    return options;\n                }, []).join(\",\");\n            };\n\n            var createCordovaOptions = function (userOptions) {\n                var cordovaOptions = shallowCloneCordovaOptions(userOptions);\n                cordovaOptions.location = 'no';\n                if (userOptions && userOptions.prompt == 'none') {\n                    cordovaOptions.hidden = 'yes';\n                }\n                return formatCordovaOptions(cordovaOptions);\n            };\n\n            var getCordovaRedirectUri = function() {\n                return kc.redirectUri || 'http://localhost';\n            }\n\n            return {\n                login: async function(options) {\n                    var promise = createPromise();\n\n                    var cordovaOptions = createCordovaOptions(options);\n                    var loginUrl = await kc.createLoginUrl(options);\n                    var ref = cordovaOpenWindowWrapper(loginUrl, '_blank', cordovaOptions);\n                    var completed = false;\n\n                    var closed = false;\n                    var closeBrowser = function() {\n                        closed = true;\n                        ref.close();\n                    };\n\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf(getCordovaRedirectUri()) == 0) {\n                            var callback = parseCallback(event.url);\n                            processCallback(callback, promise);\n                            closeBrowser();\n                            completed = true;\n                        }\n                    });\n\n                    ref.addEventListener('loaderror', function(event) {\n                        if (!completed) {\n                            if (event.url.indexOf(getCordovaRedirectUri()) == 0) {\n                                var callback = parseCallback(event.url);\n                                processCallback(callback, promise);\n                                closeBrowser();\n                                completed = true;\n                            } else {\n                                promise.setError();\n                                closeBrowser();\n                            }\n                        }\n                    });\n\n                    ref.addEventListener('exit', function(event) {\n                        if (!closed) {\n                            promise.setError({\n                                reason: \"closed_by_user\"\n                            });\n                        }\n                    });\n\n                    return promise.promise;\n                },\n\n                logout: function(options) {\n                    var promise = createPromise();\n\n                    var logoutUrl = kc.createLogoutUrl(options);\n                    var ref = cordovaOpenWindowWrapper(logoutUrl, '_blank', 'location=no,hidden=yes,clearcache=yes');\n\n                    var error;\n\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf(getCordovaRedirectUri()) == 0) {\n                            ref.close();\n                        }\n                    });\n\n                    ref.addEventListener('loaderror', function(event) {\n                        if (event.url.indexOf(getCordovaRedirectUri()) == 0) {\n                            ref.close();\n                        } else {\n                            error = true;\n                            ref.close();\n                        }\n                    });\n\n                    ref.addEventListener('exit', function(event) {\n                        if (error) {\n                            promise.setError();\n                        } else {\n                            kc.clearToken();\n                            promise.setSuccess();\n                        }\n                    });\n\n                    return promise.promise;\n                },\n\n                register : async function(options) {\n                    var promise = createPromise();\n                    var registerUrl = await kc.createRegisterUrl();\n                    var cordovaOptions = createCordovaOptions(options);\n                    var ref = cordovaOpenWindowWrapper(registerUrl, '_blank', cordovaOptions);\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf(getCordovaRedirectUri()) == 0) {\n                            ref.close();\n                            var oauth = parseCallback(event.url);\n                            processCallback(oauth, promise);\n                        }\n                    });\n                    return promise.promise;\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        var ref = cordovaOpenWindowWrapper(accountUrl, '_blank', 'location=no');\n                        ref.addEventListener('loadstart', function(event) {\n                            if (event.url.indexOf(getCordovaRedirectUri()) == 0) {\n                                ref.close();\n                            }\n                        });\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                },\n\n                redirectUri: function(options) {\n                    return getCordovaRedirectUri();\n                }\n            }\n        }\n\n        if (type == 'cordova-native') {\n            loginIframe.enable = false;\n\n            return {\n                login: async function(options) {\n                    var promise = createPromise();\n                    var loginUrl = await kc.createLoginUrl(options);\n\n                    universalLinks.subscribe('keycloak', function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        var oauth = parseCallback(event.url);\n                        processCallback(oauth, promise);\n                    });\n\n                    window.cordova.plugins.browsertab.openUrl(loginUrl);\n                    return promise.promise;\n                },\n\n                logout: function(options) {\n                    var promise = createPromise();\n                    var logoutUrl = kc.createLogoutUrl(options);\n\n                    universalLinks.subscribe('keycloak', function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        kc.clearToken();\n                        promise.setSuccess();\n                    });\n\n                    window.cordova.plugins.browsertab.openUrl(logoutUrl);\n                    return promise.promise;\n                },\n\n                register : async function(options) {\n                    var promise = createPromise();\n                    var registerUrl = await kc.createRegisterUrl(options);\n                    universalLinks.subscribe('keycloak' , function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        var oauth = parseCallback(event.url);\n                        processCallback(oauth, promise);\n                    });\n                    window.cordova.plugins.browsertab.openUrl(registerUrl);\n                    return promise.promise;\n\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        window.cordova.plugins.browsertab.openUrl(accountUrl);\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                },\n\n                redirectUri: function(options) {\n                    if (options && options.redirectUri) {\n                        return options.redirectUri;\n                    } else if (kc.redirectUri) {\n                        return kc.redirectUri;\n                    } else {\n                        return \"http://localhost\";\n                    }\n                }\n            }\n        }\n\n        throw 'invalid adapter type: ' + type;\n    }\n\n    const STORAGE_KEY_PREFIX = 'kc-callback-';\n\n    var LocalStorage = function() {\n        if (!(this instanceof LocalStorage)) {\n            return new LocalStorage();\n        }\n\n        localStorage.setItem('kc-test', 'test');\n        localStorage.removeItem('kc-test');\n\n        var cs = this;\n\n        /**\n         * Clears all values from local storage that are no longer valid.\n         */\n        function clearInvalidValues() {\n            const currentTime = Date.now();\n\n            for (const [key, value] of getStoredEntries()) {\n                // Attempt to parse the expiry time from the value.\n                const expiry = parseExpiry(value);\n\n                // Discard the value if it is malformed or expired.\n                if (expiry === null || expiry < currentTime) {\n                    localStorage.removeItem(key);\n                }\n            }\n        }\n\n        /**\n         * Clears all known values from local storage.\n         */\n        function clearAllValues() {\n            for (const [key] of getStoredEntries()) {\n                localStorage.removeItem(key);\n            }\n        }\n\n        /**\n         * Gets all entries stored in local storage that are known to be managed by this class.\n         * @returns {Array<[string, unknown]>} An array of key-value pairs.\n         */\n        function getStoredEntries() {\n            return Object.entries(localStorage).filter(([key]) => key.startsWith(STORAGE_KEY_PREFIX));\n        }\n\n        /**\n         * Parses the expiry time from a value stored in local storage.\n         * @param {unknown} value\n         * @returns {number | null} The expiry time in milliseconds, or `null` if the value is malformed.\n         */\n        function parseExpiry(value) {\n            let parsedValue;\n\n            // Attempt to parse the value as JSON.\n            try {\n                parsedValue = JSON.parse(value);\n            } catch (error) {\n                return null;\n            }\n\n            // Attempt to extract the 'expires' property.\n            if (isObject(parsedValue) && 'expires' in parsedValue && typeof parsedValue.expires === 'number') {\n                return parsedValue.expires;\n            }\n\n            return null;\n        }\n\n        cs.get = function(state) {\n            if (!state) {\n                return;\n            }\n\n            var key = STORAGE_KEY_PREFIX + state;\n            var value = localStorage.getItem(key);\n            if (value) {\n                localStorage.removeItem(key);\n                value = JSON.parse(value);\n            }\n\n            clearInvalidValues();\n            return value;\n        };\n\n        cs.add = function(state) {\n            clearInvalidValues();\n\n            const key = STORAGE_KEY_PREFIX + state.state;\n            const value = JSON.stringify({\n                ...state,\n                // Set the expiry time to 1 hour from now.\n                expires: Date.now() + (60 * 60 * 1000)\n            });\n\n            try {\n                localStorage.setItem(key, value);\n            } catch (error) {\n                // If the storage is full, clear all known values and try again.\n                clearAllValues();\n                localStorage.setItem(key, value);\n            }\n        };\n    };\n\n    var CookieStorage = function() {\n        if (!(this instanceof CookieStorage)) {\n            return new CookieStorage();\n        }\n\n        var cs = this;\n\n        cs.get = function(state) {\n            if (!state) {\n                return;\n            }\n\n            var value = getCookie(STORAGE_KEY_PREFIX + state);\n            setCookie(STORAGE_KEY_PREFIX + state, '', cookieExpiration(-100));\n            if (value) {\n                return JSON.parse(value);\n            }\n        };\n\n        cs.add = function(state) {\n            setCookie(STORAGE_KEY_PREFIX + state.state, JSON.stringify(state), cookieExpiration(60));\n        };\n\n        cs.removeItem = function(key) {\n            setCookie(key, '', cookieExpiration(-100));\n        };\n\n        var cookieExpiration = function (minutes) {\n            var exp = new Date();\n            exp.setTime(exp.getTime() + (minutes*60*1000));\n            return exp;\n        };\n\n        var getCookie = function (key) {\n            var name = key + '=';\n            var ca = document.cookie.split(';');\n            for (var i = 0; i < ca.length; i++) {\n                var c = ca[i];\n                while (c.charAt(0) == ' ') {\n                    c = c.substring(1);\n                }\n                if (c.indexOf(name) == 0) {\n                    return c.substring(name.length, c.length);\n                }\n            }\n            return '';\n        };\n\n        var setCookie = function (key, value, expirationDate) {\n            var cookie = key + '=' + value + '; '\n                + 'expires=' + expirationDate.toUTCString() + '; ';\n            document.cookie = cookie;\n        }\n    };\n\n    function createCallbackStorage() {\n        try {\n            return new LocalStorage();\n        } catch (err) {\n        }\n\n        return new CookieStorage();\n    }\n\n    function createLogger(fn) {\n        return function() {\n            if (kc.enableLogging) {\n                fn.apply(console, Array.prototype.slice.call(arguments));\n            }\n        };\n    }\n}\n\nexport default Keycloak;\n\n/**\n * @param {ArrayBuffer} bytes\n * @see https://developer.mozilla.org/en-US/docs/Glossary/Base64#the_unicode_problem\n */\nfunction bytesToBase64(bytes) {\n    const binString = String.fromCodePoint(...bytes);\n    return btoa(binString);\n}\n\n/**\n * @param {string} message\n * @see https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/digest#basic_example\n */\nasync function sha256Digest(message) {\n    const encoder = new TextEncoder();\n    const data = encoder.encode(message);\n\n    if (typeof crypto === \"undefined\" || typeof crypto.subtle === \"undefined\") {\n        throw new Error(\"Web Crypto API is not available.\");\n    }\n\n    return await crypto.subtle.digest(\"SHA-256\", data);\n}\n\n/**\n * @param {string} token\n */\nfunction decodeToken(token) {\n    const [header, payload] = token.split(\".\");\n\n    if (typeof payload !== \"string\") {\n        throw new Error(\"Unable to decode token, payload not found.\");\n    }\n\n    let decoded;\n\n    try {\n        decoded = base64UrlDecode(payload);\n    } catch (error) {\n        throw new Error(\"Unable to decode token, payload is not a valid Base64URL value.\", { cause: error });\n    }\n\n    try {\n        return JSON.parse(decoded);\n    } catch (error) {\n        throw new Error(\"Unable to decode token, payload is not a valid JSON value.\", { cause: error });\n    }\n}\n\n/**\n * @param {string} input\n */\nfunction base64UrlDecode(input) {\n    let output = input\n        .replaceAll(\"-\", \"+\")\n        .replaceAll(\"_\", \"/\");\n\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"Input is not of the correct length.\");\n    }\n\n    try {\n        return b64DecodeUnicode(output);\n    } catch (error) {\n        return atob(output);\n    }\n}\n\n/**\n * @param {string} input\n */\nfunction b64DecodeUnicode(input) {\n    return decodeURIComponent(atob(input).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n\n        return \"%\" + code;\n    }));\n}\n\n/**\n * Check if the input is an object that can be operated on.\n * @param {unknown} input\n */\nfunction isObject(input) {\n    return typeof input === 'object' && input !== null;\n}\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperty","Object","defineProperty","value","enumerable","configurable","writable","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","Keycloak","config","this","Error","isObject","requiredProperties","property","concat","adapter","callbackStorage","kc","refreshQueue","loginIframe","enable","callbackList","interval","didInitialize","useNonce","logInfo","createLogger","console","info","logWarn","warn","generateCodeVerifier","len","alphabet","randomData","crypto","getRandomValues","Uint8Array","generateRandomData","chars","Array","charCodeAt","fromCharCode","generateRandomString","async","generatePkceChallenge","pkceMethod","codeVerifier","bytes","binString","fromCodePoint","btoa","bytesToBase64","message","data","TextEncoder","encode","subtle","digest","sha256Digest","replace","getRealmUrl","authServerUrl","charAt","encodeURIComponent","realm","processCallback","oauth","promise","code","error","prompt","timeLocal","Date","getTime","onActionUpdate","error_description","login","loginOptions","errorData","onAuthError","setError","setSuccess","flow","access_token","id_token","authSuccess","params","url","endpoints","token","req","XMLHttpRequest","open","setRequestHeader","clientId","redirectUri","pkceCodeVerifier","withCredentials","onreadystatechange","readyState","status","tokenResponse","JSON","parse","responseText","scheduleCheckIframe","send","accessToken","refreshToken","idToken","fulfillPromise","setToken","idTokenParsed","nonce","storedNonce","clearToken","onAuthSuccess","fileLoaded","xhr","responseURL","startsWith","tokenTimeoutHandle","clearTimeout","refreshTokenParsed","decodeToken","tokenParsed","sessionId","sid","authenticated","subject","sub","realmAccess","realm_access","resourceAccess","resource_access","timeSkew","Math","floor","iat","onTokenExpired","expiresIn","round","setTimeout","createUUID","randomUUID","parseCallback","supportedParams","newUrl","parsed","queryIndex","indexOf","fragmentIndex","responseMode","substring","parseCallbackParams","paramsString","oauthParams","state","parseCallbackUrl","oauthState","get","valid","p","split","result","key","slice","createPromise","resolve","reject","Promise","setupCheckLoginIframe","iframe","document","createElement","onload","authUrl","authorize","iframeOrigin","window","location","origin","protocol","hostname","port","src","checkSessionIframe","setAttribute","style","display","body","appendChild","addEventListener","event","contentWindow","source","callbacks","splice","checkLoginIframe","then","unchanged","msg","postMessage","loadAdapter","type","options","assign","createLoginUrl","logout","_options$logoutMethod2","logoutMethod","createLogoutUrl","form","id_token_hint","client_id","post_logout_redirect_uri","name","entries","input","submit","register","createRegisterUrl","accountManagement","accountUrl","createAccountUrl","href","encodeHash","cordovaOpenWindowWrapper","loginUrl","target","cordova","InAppBrowser","createCordovaOptions","userOptions","cordovaOptions","reduce","optionName","shallowCloneCordovaOptions","hidden","join","formatCordovaOptions","getCordovaRedirectUri","ref","completed","closed","closeBrowser","close","reason","logoutUrl","registerUrl","universalLinks","subscribe","unsubscribe","plugins","browsertab","openUrl","globalThis","isSecureContext","init","initOptions","undefined","LocalStorage","err","CookieStorage","createCallbackStorage","Cordova","checkLoginIframeInterval","onLoad","loginRequired","responseType","silentCheckSsoRedirectUri","silentCheckSsoFallback","enableLogging","scope","acrValues","messageReceiveTimeout","initPromise","onReady","catch","configPromise","configUrl","setupOidcEndoints","oidcConfiguration","authorization_endpoint","token_endpoint","end_session_endpoint","check_session_iframe","userinfo","userinfo_endpoint","thirdPartyCookiesIframe","oidcProviderConfigUrl","oidcProvider","loadConfig","doLogin","locale","checkSsoSilently","ifrm","messageCallback","removeChild","removeEventListener","processInit","callback","history","replaceState","updateToken","timeout","errorMessage","timeoutHandle","timeoutPromise","race","finally","applyTimeoutToPromise","check3pCookiesSupported","baseUrl","callbackState","action","maxAge","loginHint","idpHint","acr","claimsParameter","requestedAcr","claims","stringify","buildClaimsParameter","pkceChallenge","cause","add","_options$logoutMethod","hasRealmRole","role","access","roles","hasResourceRole","resource","loadUserProfile","profile","loadUserInfo","userInfo","isTokenExpired","minValidity","ceil","isNaN","exec","onAuthRefreshSuccess","pop","onAuthRefreshError","onAuthLogout","STORAGE_KEY_PREFIX","localStorage","setItem","removeItem","clearInvalidValues","currentTime","now","getStoredEntries","expiry","parseExpiry","_ref","parsedValue","expires","getItem","_objectSpread","clearAllValues","cs","getCookie","setCookie","cookieExpiration","minutes","exp","setTime","ca","cookie","c","expirationDate","toUTCString","fn","header","payload","decoded","output","replaceAll","decodeURIComponent","atob","m","toString","toUpperCase","b64DecodeUnicode","base64UrlDecode"],"sourceRoot":""}