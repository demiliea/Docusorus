{"ast":null,"code":"import React,{useEffect,useMemo,useState}from'react';import{ReactKeycloakProvider,useKeycloak}from'@react-keycloak/web';import TokenDecoder from'./TokenDecoder';import styles from'./DevXConsole.module.css';// -----------------------------------------------------------------------------\n// Keycloak configuration\n// -----------------------------------------------------------------------------\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const keycloakConfig={url:'https://keycloak.eu-nordics-sto-test.dstny.d4sp.com/auth',realm:'40aa6bdb-11e5-49b7-8af8-6afe2111e514',clientId:'sam'};const initOptions={onLoad:'check-sso',// Changed from 'login-required' to 'check-sso'\ncheckLoginIframe:false,pkceMethod:'S256',redirectUri:typeof window!=='undefined'?window.location.href:undefined};// -----------------------------------------------------------------------------\n// Mock/Placeholder token utilities\n// -----------------------------------------------------------------------------\nconst generatePlaceholderToken=()=>{const header={\"alg\":\"RS256\",\"typ\":\"JWT\",\"kid\":\"placeholder-key\"};const payload={\"iss\":\"https://placeholder-issuer.com\",\"sub\":\"placeholder-user-123\",\"aud\":\"placeholder-audience\",\"exp\":Math.floor(Date.now()/1000)+3600,// 1 hour from now\n\"iat\":Math.floor(Date.now()/1000),\"preferred_username\":\"guest-user\",\"email\":\"guest@example.com\",\"name\":\"Guest User\",\"placeholder\":true};const signature=\"placeholder-signature\";// Base64 encode each part (simplified for demo)\nconst encodedHeader=btoa(JSON.stringify(header));const encodedPayload=btoa(JSON.stringify(payload));return\"\".concat(encodedHeader,\".\").concat(encodedPayload,\".\").concat(signature);};const parsePlaceholderToken=token=>{try{const parts=token.split('.');if(parts.length!==3)return null;const payload=JSON.parse(atob(parts[1]));return payload;}catch(_unused){return null;}};// -----------------------------------------------------------------------------\n// Console component types\n// -----------------------------------------------------------------------------\n// -----------------------------------------------------------------------------\n// Inner console component (for authenticated mode)\n// -----------------------------------------------------------------------------\nconst AuthenticatedConsole=_ref=>{var _keycloak$tokenParsed,_keycloak$tokenParsed2;let{onBackToLanding}=_ref;const{keycloak,initialized}=useKeycloak();const[error,setError]=useState(null);// Proactively refresh the token every 30 s, 60 s before expiry\nuseEffect(()=>{if(!initialized||!keycloak.authenticated)return;const interval=setInterval(()=>{keycloak.updateToken(60).catch(()=>setError('Failed to refresh token – please log in again'));},30000);return()=>clearInterval(interval);},[initialized,keycloak]);const snippet=useMemo(()=>{if(!initialized||!keycloak.authenticated||!keycloak.token)return'';return\"curl -H \\\"Authorization: Bearer \".concat(keycloak.token,\"\\\" https://api.example.com/hello\");},[initialized,keycloak]);if(!initialized)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading authentication \\u2026\"});if(error){return/*#__PURE__*/_jsxs(\"div\",{className:styles.consoleContainer,children:[/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--ifm-color-danger)',marginBottom:'1rem'},children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>keycloak.login(),children:\"Retry login\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onBackToLanding,style:{marginLeft:'1rem'},children:\"Back to Landing\"})]});}if(!keycloak.authenticated){return/*#__PURE__*/_jsxs(\"div\",{className:styles.consoleContainer,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Authentication check completed, but you are not authenticated.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>keycloak.login(),children:\"Login with Keycloak\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onBackToLanding,style:{marginLeft:'1rem'},children:\"Back to Landing\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:styles.consoleContainer,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your DevX Console\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onBackToLanding,children:\"\\u2190 Back to Landing\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#e6f7ff',padding:'1rem',borderRadius:'8px',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDD10 Authenticated Mode\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0.5rem 0 0 0',fontSize:'0.9rem'},children:\"You're using real authentication tokens from Keycloak\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:styles.userInfo,children:[\"Logged in as \",/*#__PURE__*/_jsx(\"strong\",{children:(_keycloak$tokenParsed=keycloak.tokenParsed)===null||_keycloak$tokenParsed===void 0?void 0:_keycloak$tokenParsed.preferred_username})]}),((_keycloak$tokenParsed2=keycloak.tokenParsed)===null||_keycloak$tokenParsed2===void 0?void 0:_keycloak$tokenParsed2.exp)&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Token expires at\",' ',/*#__PURE__*/_jsx(\"strong\",{children:new Date(keycloak.tokenParsed.exp*1000).toLocaleTimeString()})]}),/*#__PURE__*/_jsx(\"h4\",{children:\"JWT Token\"}),/*#__PURE__*/_jsx(\"pre\",{className:styles.token,children:/*#__PURE__*/_jsx(\"code\",{children:keycloak.token})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _keycloak$token;return navigator.clipboard.writeText((_keycloak$token=keycloak.token)!==null&&_keycloak$token!==void 0?_keycloak$token:'');},children:\"Copy token\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Ready-to-use Code Snippet\"}),/*#__PURE__*/_jsx(\"pre\",{className:styles.snippet,children:/*#__PURE__*/_jsx(\"code\",{children:snippet})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigator.clipboard.writeText(snippet),children:\"Copy snippet\"}),keycloak.token&&/*#__PURE__*/_jsx(TokenDecoder,{token:keycloak.token}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>keycloak.logout({redirectUri:window.location.href}),children:\"Logout\"})]});};// -----------------------------------------------------------------------------\n// Placeholder/Guest console component\n// -----------------------------------------------------------------------------\nconst PlaceholderConsole=_ref2=>{let{onBackToLanding}=_ref2;const[placeholderToken]=useState(()=>generatePlaceholderToken());const tokenData=useMemo(()=>parsePlaceholderToken(placeholderToken),[placeholderToken]);const snippet=useMemo(()=>{return\"curl -H \\\"Authorization: Bearer \".concat(placeholderToken,\"\\\" https://api.example.com/hello\");},[placeholderToken]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.consoleContainer,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"DevX Console - Guest Mode\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onBackToLanding,children:\"\\u2190 Back to Landing\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff7e6',padding:'1rem',borderRadius:'8px',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83E\\uDDEA Guest Mode\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0.5rem 0 0 0',fontSize:'0.9rem'},children:\"You're using placeholder tokens for testing. These tokens are not valid for real API calls.\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:styles.userInfo,children:[\"Guest user: \",/*#__PURE__*/_jsx(\"strong\",{children:(tokenData===null||tokenData===void 0?void 0:tokenData.preferred_username)||'guest-user'})]}),(tokenData===null||tokenData===void 0?void 0:tokenData.exp)&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Placeholder token expires at\",' ',/*#__PURE__*/_jsx(\"strong\",{children:new Date(tokenData.exp*1000).toLocaleTimeString()})]}),/*#__PURE__*/_jsx(\"h4\",{children:\"Placeholder JWT Token\"}),/*#__PURE__*/_jsx(\"pre\",{className:styles.token,children:/*#__PURE__*/_jsx(\"code\",{children:placeholderToken})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigator.clipboard.writeText(placeholderToken),children:\"Copy placeholder token\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Ready-to-use Code Snippet (For Testing)\"}),/*#__PURE__*/_jsx(\"pre\",{className:styles.snippet,children:/*#__PURE__*/_jsx(\"code\",{children:snippet})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigator.clipboard.writeText(snippet),children:\"Copy snippet\"}),/*#__PURE__*/_jsx(TokenDecoder,{token:placeholderToken}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f6ffed',padding:'1rem',borderRadius:'8px',marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 0.5rem 0',color:'#52c41a'},children:\"\\uD83D\\uDCA1 Want real tokens?\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0',fontSize:'0.9rem'},children:\"Sign in to get actual JWT tokens that work with your APIs\"})]})]});};// -----------------------------------------------------------------------------\n// Main flexible console component\n// -----------------------------------------------------------------------------\nconst FlexibleDevXConsole=_ref3=>{let{mode,onBackToLanding}=_ref3;const[keycloakInstance,setKeycloakInstance]=useState(null);useEffect(()=>{const initKeycloak=async()=>{try{const{default:Keycloak}=await import('keycloak-js');const keycloak=new Keycloak(keycloakConfig);setKeycloakInstance(keycloak);}catch(error){console.debug('Failed to load Keycloak:',error);}};if(mode==='authenticated'){initKeycloak();}},[mode]);// Optional debug logging\nconst onEvent=(event,error)=>{console.debug('[Keycloak event]',event,error);};const onTokens=tokens=>{console.debug('[Keycloak tokens]',tokens);};if(mode==='placeholder'||mode==='guest'){return/*#__PURE__*/_jsx(PlaceholderConsole,{onBackToLanding:onBackToLanding});}if(!keycloakInstance){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading authentication...\"});}return/*#__PURE__*/_jsx(ReactKeycloakProvider,{authClient:keycloakInstance,initOptions:initOptions,onEvent:onEvent,onTokens:onTokens,children:/*#__PURE__*/_jsx(AuthenticatedConsole,{onBackToLanding:onBackToLanding})});};export default FlexibleDevXConsole;","map":{"version":3,"names":["React","useEffect","useMemo","useState","ReactKeycloakProvider","useKeycloak","TokenDecoder","styles","jsx","_jsx","jsxs","_jsxs","keycloakConfig","url","realm","clientId","initOptions","onLoad","checkLoginIframe","pkceMethod","redirectUri","window","location","href","undefined","generatePlaceholderToken","header","payload","Math","floor","Date","now","signature","encodedHeader","btoa","JSON","stringify","encodedPayload","concat","parsePlaceholderToken","token","parts","split","length","parse","atob","_unused","AuthenticatedConsole","_ref","_keycloak$tokenParsed","_keycloak$tokenParsed2","onBackToLanding","keycloak","initialized","error","setError","authenticated","interval","setInterval","updateToken","catch","clearInterval","snippet","children","className","consoleContainer","style","color","marginBottom","onClick","login","marginLeft","display","justifyContent","alignItems","background","padding","borderRadius","margin","fontSize","userInfo","tokenParsed","preferred_username","exp","toLocaleTimeString","_keycloak$token","navigator","clipboard","writeText","logout","PlaceholderConsole","_ref2","placeholderToken","tokenData","marginTop","FlexibleDevXConsole","_ref3","mode","keycloakInstance","setKeycloakInstance","initKeycloak","default","Keycloak","console","debug","onEvent","event","onTokens","tokens","authClient"],"sources":["/workspace/src/components/FlexibleDevXConsole.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { ReactKeycloakProvider, useKeycloak } from '@react-keycloak/web';\nimport TokenDecoder from './TokenDecoder';\nimport styles from './DevXConsole.module.css';\n\n// -----------------------------------------------------------------------------\n// Keycloak configuration\n// -----------------------------------------------------------------------------\n\nconst keycloakConfig = {\n  url: 'https://keycloak.eu-nordics-sto-test.dstny.d4sp.com/auth',\n  realm: '40aa6bdb-11e5-49b7-8af8-6afe2111e514',\n  clientId: 'sam',\n};\n\nconst initOptions = {\n  onLoad: 'check-sso' as const, // Changed from 'login-required' to 'check-sso'\n  checkLoginIframe: false,\n  pkceMethod: 'S256' as const,\n  redirectUri: typeof window !== 'undefined' ? window.location.href : undefined,\n};\n\n// -----------------------------------------------------------------------------\n// Mock/Placeholder token utilities\n// -----------------------------------------------------------------------------\n\nconst generatePlaceholderToken = (): string => {\n  const header = {\n    \"alg\": \"RS256\",\n    \"typ\": \"JWT\",\n    \"kid\": \"placeholder-key\"\n  };\n  \n  const payload = {\n    \"iss\": \"https://placeholder-issuer.com\",\n    \"sub\": \"placeholder-user-123\",\n    \"aud\": \"placeholder-audience\",\n    \"exp\": Math.floor(Date.now() / 1000) + 3600, // 1 hour from now\n    \"iat\": Math.floor(Date.now() / 1000),\n    \"preferred_username\": \"guest-user\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"Guest User\",\n    \"placeholder\": true\n  };\n  \n  const signature = \"placeholder-signature\";\n  \n  // Base64 encode each part (simplified for demo)\n  const encodedHeader = btoa(JSON.stringify(header));\n  const encodedPayload = btoa(JSON.stringify(payload));\n  \n  return `${encodedHeader}.${encodedPayload}.${signature}`;\n};\n\nconst parsePlaceholderToken = (token: string) => {\n  try {\n    const parts = token.split('.');\n    if (parts.length !== 3) return null;\n    \n    const payload = JSON.parse(atob(parts[1]));\n    return payload;\n  } catch {\n    return null;\n  }\n};\n\n// -----------------------------------------------------------------------------\n// Console component types\n// -----------------------------------------------------------------------------\n\ninterface ConsoleProps {\n  mode: 'authenticated' | 'placeholder' | 'guest';\n  onBackToLanding: () => void;\n}\n\n// -----------------------------------------------------------------------------\n// Inner console component (for authenticated mode)\n// -----------------------------------------------------------------------------\n\nconst AuthenticatedConsole: React.FC<{ onBackToLanding: () => void }> = ({ onBackToLanding }) => {\n  const { keycloak, initialized } = useKeycloak();\n  const [error, setError] = useState<string | null>(null);\n\n  // Proactively refresh the token every 30 s, 60 s before expiry\n  useEffect(() => {\n    if (!initialized || !keycloak.authenticated) return;\n\n    const interval = setInterval(() => {\n      keycloak\n        .updateToken(60)\n        .catch(() => setError('Failed to refresh token – please log in again'));\n    }, 30_000);\n\n    return () => clearInterval(interval);\n  }, [initialized, keycloak]);\n\n  const snippet = useMemo(() => {\n    if (!initialized || !keycloak.authenticated || !keycloak.token) return '';\n    return `curl -H \"Authorization: Bearer ${keycloak.token}\" https://api.example.com/hello`;\n  }, [initialized, keycloak]);\n\n  if (!initialized) return <p>Loading authentication …</p>;\n\n  if (error) {\n    return (\n      <div className={styles.consoleContainer}>\n        <p style={{ color: 'var(--ifm-color-danger)', marginBottom: '1rem' }}>{error}</p>\n        <button onClick={() => keycloak.login()}>Retry login</button>\n        <button onClick={onBackToLanding} style={{ marginLeft: '1rem' }}>Back to Landing</button>\n      </div>\n    );\n  }\n\n  if (!keycloak.authenticated) {\n    return (\n      <div className={styles.consoleContainer}>\n        <p>Authentication check completed, but you are not authenticated.</p>\n        <button onClick={() => keycloak.login()}>Login with Keycloak</button>\n        <button onClick={onBackToLanding} style={{ marginLeft: '1rem' }}>Back to Landing</button>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.consoleContainer}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' }}>\n        <h3>Your DevX Console</h3>\n        <button onClick={onBackToLanding}>← Back to Landing</button>\n      </div>\n\n      <div style={{ background: '#e6f7ff', padding: '1rem', borderRadius: '8px', marginBottom: '2rem' }}>\n        <strong>🔐 Authenticated Mode</strong>\n        <p style={{ margin: '0.5rem 0 0 0', fontSize: '0.9rem' }}>\n          You're using real authentication tokens from Keycloak\n        </p>\n      </div>\n\n      <p className={styles.userInfo}>\n        Logged in as <strong>{keycloak.tokenParsed?.preferred_username}</strong>\n      </p>\n\n      {keycloak.tokenParsed?.exp && (\n        <p>\n          Token expires at{' '}\n          <strong>{new Date((keycloak.tokenParsed.exp as number) * 1000).toLocaleTimeString()}</strong>\n        </p>\n      )}\n\n      <h4>JWT Token</h4>\n      <pre className={styles.token}>\n        <code>{keycloak.token}</code>\n      </pre>\n      <button onClick={() => navigator.clipboard.writeText(keycloak.token ?? '')}>Copy token</button>\n\n      <h4>Ready-to-use Code Snippet</h4>\n      <pre className={styles.snippet}>\n        <code>{snippet}</code>\n      </pre>\n      <button onClick={() => navigator.clipboard.writeText(snippet)}>Copy snippet</button>\n\n      {keycloak.token && <TokenDecoder token={keycloak.token} />}\n\n      <button onClick={() => keycloak.logout({ redirectUri: window.location.href })}>Logout</button>\n    </div>\n  );\n};\n\n// -----------------------------------------------------------------------------\n// Placeholder/Guest console component\n// -----------------------------------------------------------------------------\n\nconst PlaceholderConsole: React.FC<{ onBackToLanding: () => void }> = ({ onBackToLanding }) => {\n  const [placeholderToken] = useState(() => generatePlaceholderToken());\n  const tokenData = useMemo(() => parsePlaceholderToken(placeholderToken), [placeholderToken]);\n  \n  const snippet = useMemo(() => {\n    return `curl -H \"Authorization: Bearer ${placeholderToken}\" https://api.example.com/hello`;\n  }, [placeholderToken]);\n\n  return (\n    <div className={styles.consoleContainer}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' }}>\n        <h3>DevX Console - Guest Mode</h3>\n        <button onClick={onBackToLanding}>← Back to Landing</button>\n      </div>\n\n      <div style={{ background: '#fff7e6', padding: '1rem', borderRadius: '8px', marginBottom: '2rem' }}>\n        <strong>🧪 Guest Mode</strong>\n        <p style={{ margin: '0.5rem 0 0 0', fontSize: '0.9rem' }}>\n          You're using placeholder tokens for testing. These tokens are not valid for real API calls.\n        </p>\n      </div>\n\n      <p className={styles.userInfo}>\n        Guest user: <strong>{tokenData?.preferred_username || 'guest-user'}</strong>\n      </p>\n\n      {tokenData?.exp && (\n        <p>\n          Placeholder token expires at{' '}\n          <strong>{new Date((tokenData.exp as number) * 1000).toLocaleTimeString()}</strong>\n        </p>\n      )}\n\n      <h4>Placeholder JWT Token</h4>\n      <pre className={styles.token}>\n        <code>{placeholderToken}</code>\n      </pre>\n      <button onClick={() => navigator.clipboard.writeText(placeholderToken)}>Copy placeholder token</button>\n\n      <h4>Ready-to-use Code Snippet (For Testing)</h4>\n      <pre className={styles.snippet}>\n        <code>{snippet}</code>\n      </pre>\n      <button onClick={() => navigator.clipboard.writeText(snippet)}>Copy snippet</button>\n\n      <TokenDecoder token={placeholderToken} />\n\n      <div style={{ background: '#f6ffed', padding: '1rem', borderRadius: '8px', marginTop: '2rem' }}>\n        <h4 style={{ margin: '0 0 0.5rem 0', color: '#52c41a' }}>💡 Want real tokens?</h4>\n        <p style={{ margin: '0', fontSize: '0.9rem' }}>\n          Sign in to get actual JWT tokens that work with your APIs\n        </p>\n      </div>\n    </div>\n  );\n};\n\n// -----------------------------------------------------------------------------\n// Main flexible console component\n// -----------------------------------------------------------------------------\n\nconst FlexibleDevXConsole: React.FC<ConsoleProps> = ({ mode, onBackToLanding }) => {\n  const [keycloakInstance, setKeycloakInstance] = useState<any | null>(null);\n\n  useEffect(() => {\n    const initKeycloak = async () => {\n      try {\n        const { default: Keycloak } = await import('keycloak-js');\n        const keycloak = new Keycloak(keycloakConfig);\n        setKeycloakInstance(keycloak);\n      } catch (error) {\n        console.debug('Failed to load Keycloak:', error);\n      }\n    };\n\n    if (mode === 'authenticated') {\n      initKeycloak();\n    }\n  }, [mode]);\n\n  // Optional debug logging\n  const onEvent = (event: unknown, error: unknown) => {\n    console.debug('[Keycloak event]', event, error);\n  };\n\n  const onTokens = (tokens: unknown) => {\n    console.debug('[Keycloak tokens]', tokens);\n  };\n\n  if (mode === 'placeholder' || mode === 'guest') {\n    return <PlaceholderConsole onBackToLanding={onBackToLanding} />;\n  }\n\n  if (!keycloakInstance) {\n    return <div>Loading authentication...</div>;\n  }\n\n  return (\n    <ReactKeycloakProvider \n      authClient={keycloakInstance} \n      initOptions={initOptions} \n      onEvent={onEvent} \n      onTokens={onTokens}\n    >\n      <AuthenticatedConsole onBackToLanding={onBackToLanding} />\n    </ReactKeycloakProvider>\n  );\n};\n\nexport default FlexibleDevXConsole;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}