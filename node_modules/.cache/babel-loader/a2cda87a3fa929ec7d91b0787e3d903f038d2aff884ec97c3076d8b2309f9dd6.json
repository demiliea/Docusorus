{"ast":null,"code":"import React,{useState,useMemo}from'react';import styles from'./TokenDecoder.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TokenDecoder=_ref=>{let{token,title=\"Decoded JWT Token\"}=_ref;const[isExpanded,setIsExpanded]=useState(false);const decodedToken=useMemo(()=>{try{const parts=token.split('.');if(parts.length!==3)return null;const header=JSON.parse(atob(parts[0]));const payload=JSON.parse(atob(parts[1]));const signature=parts[2];return{header,payload,signature};}catch(error){console.debug('Failed to decode token:',error);return null;}},[token]);const formatTimestamp=timestamp=>{return new Date(timestamp*1000).toLocaleString();};const getTokenStatus=payload=>{if(!payload.exp)return{status:'No expiration',color:'#ffa500'};const now=Math.floor(Date.now()/1000);const timeLeft=payload.exp-now;if(timeLeft<0)return{status:'Expired',color:'#ff4444'};if(timeLeft<300)return{status:'Expires soon',color:'#ffa500'};return{status:'Valid',color:'#44ff44'};};if(!decodedToken){return/*#__PURE__*/_jsxs(\"div\",{className:styles.decoderContainer,children:[/*#__PURE__*/_jsx(\"h4\",{children:title}),/*#__PURE__*/_jsx(\"p\",{className:styles.error,children:\"Unable to decode token\"})]});}const tokenStatus=getTokenStatus(decodedToken.payload);const isPlaceholder=decodedToken.payload.placeholder===true;return/*#__PURE__*/_jsxs(\"div\",{className:styles.decoderContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.header,children:[/*#__PURE__*/_jsx(\"h4\",{children:title}),/*#__PURE__*/_jsx(\"button\",{className:styles.toggleButton,onClick:()=>setIsExpanded(!isExpanded),children:isExpanded?'‚ñº Hide Details':'‚ñ∂ Show Details'})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.summary,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.summaryItem,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.label,children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.status,style:{color:tokenStatus.color},children:tokenStatus.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.summaryItem,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.label,children:\"User:\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.value,children:decodedToken.payload.preferred_username||decodedToken.payload.sub||'Unknown'})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.summaryItem,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.label,children:\"Type:\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.value,children:isPlaceholder?'üß™ Placeholder Token':'üîê Real Token'})]}),decodedToken.payload.exp&&/*#__PURE__*/_jsxs(\"div\",{className:styles.summaryItem,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.label,children:\"Expires:\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.value,children:formatTimestamp(decodedToken.payload.exp)})]})]}),isExpanded&&/*#__PURE__*/_jsxs(\"div\",{className:styles.details,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.section,children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Header\"}),/*#__PURE__*/_jsx(\"pre\",{className:styles.jsonDisplay,children:JSON.stringify(decodedToken.header,null,2)})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.section,children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Payload\"}),/*#__PURE__*/_jsx(\"pre\",{className:styles.jsonDisplay,children:JSON.stringify(decodedToken.payload,null,2)})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.section,children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Signature\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.signature,children:decodedToken.signature})]})]})]});};export default TokenDecoder;","map":{"version":3,"names":["React","useState","useMemo","styles","jsx","_jsx","jsxs","_jsxs","TokenDecoder","_ref","token","title","isExpanded","setIsExpanded","decodedToken","parts","split","length","header","JSON","parse","atob","payload","signature","error","console","debug","formatTimestamp","timestamp","Date","toLocaleString","getTokenStatus","exp","status","color","now","Math","floor","timeLeft","className","decoderContainer","children","tokenStatus","isPlaceholder","placeholder","toggleButton","onClick","summary","summaryItem","label","style","value","preferred_username","sub","details","section","jsonDisplay","stringify"],"sources":["/workspace/src/components/TokenDecoder.tsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport styles from './TokenDecoder.module.css';\n\ninterface TokenDecoderProps {\n  token: string;\n  title?: string;\n}\n\ninterface DecodedToken {\n  header: any;\n  payload: any;\n  signature: string;\n}\n\nconst TokenDecoder: React.FC<TokenDecoderProps> = ({ token, title = \"Decoded JWT Token\" }) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const decodedToken = useMemo((): DecodedToken | null => {\n    try {\n      const parts = token.split('.');\n      if (parts.length !== 3) return null;\n\n      const header = JSON.parse(atob(parts[0]));\n      const payload = JSON.parse(atob(parts[1]));\n      const signature = parts[2];\n\n      return { header, payload, signature };\n    } catch (error) {\n      console.debug('Failed to decode token:', error);\n      return null;\n    }\n  }, [token]);\n\n  const formatTimestamp = (timestamp: number): string => {\n    return new Date(timestamp * 1000).toLocaleString();\n  };\n\n  const getTokenStatus = (payload: any): { status: string; color: string } => {\n    if (!payload.exp) return { status: 'No expiration', color: '#ffa500' };\n    \n    const now = Math.floor(Date.now() / 1000);\n    const timeLeft = payload.exp - now;\n    \n    if (timeLeft < 0) return { status: 'Expired', color: '#ff4444' };\n    if (timeLeft < 300) return { status: 'Expires soon', color: '#ffa500' };\n    return { status: 'Valid', color: '#44ff44' };\n  };\n\n  if (!decodedToken) {\n    return (\n      <div className={styles.decoderContainer}>\n        <h4>{title}</h4>\n        <p className={styles.error}>Unable to decode token</p>\n      </div>\n    );\n  }\n\n  const tokenStatus = getTokenStatus(decodedToken.payload);\n  const isPlaceholder = decodedToken.payload.placeholder === true;\n\n  return (\n    <div className={styles.decoderContainer}>\n      <div className={styles.header}>\n        <h4>{title}</h4>\n        <button \n          className={styles.toggleButton}\n          onClick={() => setIsExpanded(!isExpanded)}\n        >\n          {isExpanded ? '‚ñº Hide Details' : '‚ñ∂ Show Details'}\n        </button>\n      </div>\n\n      <div className={styles.summary}>\n        <div className={styles.summaryItem}>\n          <span className={styles.label}>Status:</span>\n          <span \n            className={styles.status}\n            style={{ color: tokenStatus.color }}\n          >\n            {tokenStatus.status}\n          </span>\n        </div>\n        \n        <div className={styles.summaryItem}>\n          <span className={styles.label}>User:</span>\n          <span className={styles.value}>\n            {decodedToken.payload.preferred_username || decodedToken.payload.sub || 'Unknown'}\n          </span>\n        </div>\n\n        <div className={styles.summaryItem}>\n          <span className={styles.label}>Type:</span>\n          <span className={styles.value}>\n            {isPlaceholder ? 'üß™ Placeholder Token' : 'üîê Real Token'}\n          </span>\n        </div>\n\n        {decodedToken.payload.exp && (\n          <div className={styles.summaryItem}>\n            <span className={styles.label}>Expires:</span>\n            <span className={styles.value}>\n              {formatTimestamp(decodedToken.payload.exp)}\n            </span>\n          </div>\n        )}\n      </div>\n\n      {isExpanded && (\n        <div className={styles.details}>\n          <div className={styles.section}>\n            <h5>Header</h5>\n            <pre className={styles.jsonDisplay}>\n              {JSON.stringify(decodedToken.header, null, 2)}\n            </pre>\n          </div>\n\n          <div className={styles.section}>\n            <h5>Payload</h5>\n            <pre className={styles.jsonDisplay}>\n              {JSON.stringify(decodedToken.payload, null, 2)}\n            </pre>\n          </div>\n\n          <div className={styles.section}>\n            <h5>Signature</h5>\n            <div className={styles.signature}>\n              {decodedToken.signature}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TokenDecoder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}